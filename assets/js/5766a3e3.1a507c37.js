"use strict";(self.webpackChunkdata_dynamos_github_io=self.webpackChunkdata_dynamos_github_io||[]).push([[1448],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(a),m=o,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||r;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2893:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var n=a(7462),o=(a(7294),a(3905));const r={sidebar_position:60,minutesToComplete:10},i="Quiz",s={unversionedId:"batch-processing/quiz",id:"batch-processing/quiz",title:"Quiz",description:"What is one challenge of working with parquet as compared to csv with respect to debugging?",source:"@site/docs/batch-processing/quiz.md",sourceDirName:"batch-processing",slug:"/batch-processing/quiz",permalink:"/data-dynamos.github.io/docs/batch-processing/quiz",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/batch-processing/quiz.md",tags:[],version:"current",sidebarPosition:60,frontMatter:{sidebar_position:60,minutesToComplete:10},sidebar:"tutorialSidebar",previous:{title:"Spark Advanced Topics (Bonus)",permalink:"/data-dynamos.github.io/docs/batch-processing/spark-advanced-topics"},next:{title:"Data Reliability",permalink:"/data-dynamos.github.io/docs/data-quality/data_reliability"}},l={},u=[],c={toc:u},d="wrapper";function p(e){let{components:t,...a}=e;return(0,o.kt)(d,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"quiz"},"Quiz"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What is one challenge of working with parquet as compared to csv with respect to debugging?"),"It\u2019s not human-readable (compressed) and requires software to read/print it."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"When first ingesting from a data source, why do you maintain a copy of the raw data as close to the original format as possible?"),"* You want to maintain your original source of truth in case of bugs/logic changes * You don\u2019t want to realize months down the line that you\u2019ve accidentally been overwriting/tampering with the raw data and that it\u2019s no longer recoverable! * If (..or more like when) ever you want to fix/update your data transformation logic, it\u2019s also good to have an optimized copy of your raw data (e.g. in Parquet vs plain text) so that your re-processing doesn\u2019t take as long! * It also helps to debug by breaking the steps into an ingestion step and transformation steps."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"When should you use ETL vs ELT, why?"),(0,o.kt)("ul",null,(0,o.kt)("li",null,"ETL is great for workloads that are reused by many consumers so it makes sense to shape the data consistently sooner rather than later"),(0,o.kt)("li",null," ELT is great for consumers who need some flexibility. With respect to speed, ELT can sometimes be a bit slow and wasteful as you have to often re-process/re-transform the raw data all over again"),"At the end the day, it depends what makes the most sense for your use-case!")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What\u2019s the difference between a Join and a Union?"),(0,o.kt)("p",null,"Hopefully the pictures/diagrams in ",(0,o.kt)("a",{parentName:"p",href:"https://www.essentialsql.com/what-is-the-difference-between-a-join-and-a-union/"},"this article")," provide a clear intuition.\nBoth operations are essential knowledge!"),(0,o.kt)("p",null,"Please avoid these classic mistakes:"),(0,o.kt)("ol",null,(0,o.kt)("li",null,"If you\u2019re using JOIN, make sure that you don\u2019t have duplicate column names on the two tables before joining (other than the joining keys themselves)"),(0,o.kt)("li",null,"If you\u2019re using UNION, make sure that the two tables/DataFrames have identical columns and column orderings"))),(0,o.kt)("details",null,(0,o.kt)("summary",null," What does a GROUP BY aggregation do?"),"In standard SQL, it aggregates rows that share the same grouping key into a single summary row"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What\u2019s one scenario where using Window functions are advantageous over GroupBy aggregations?"),(0,o.kt)("p",null,"Have a look at ",(0,o.kt)("a",{parentName:"p",href:"https://databricks.com/blog/2015/07/15/introducing-window-functions-in-spark-sql.html"},"this example")),(0,o.kt)("p",null,"Basically, Window functions allow you to maintain all of your original rows (without having to collapse/summarize them per group)"),(0,o.kt)("p",null,"Of course, there are times when you\u2019d want to aggregate instead of window as well, depends on the query/business question!")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What kinds of operations often induce shuffling in your Spark job?"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://databricks.com/glossary/what-are-transformations"},"\u201cWide Transformations/Dependencies\u201d")," such as joins, aggregations, window functions. Implication: they can really slow down your Spark job. ",(0,o.kt)("a",{parentName:"p",href:"https://databricks.com/glossary/what-are-transformations"},"Concise summary here."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What are some most powerful ways that you can optimise your Spark job?"),"Partition your data smartly such that the most common filters and groupBys in your queries don\u2019t have to scan/shuffle all partitions unnecessarily"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Joins are often important and inevitable...so how might you optimize a join to minimize shuffling?"),"via broadcast join (small join tables) OR partition your data such that data for the same join key isn\u2019t spread across too many different partitions"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What\u2019s a good rule of thumb for partitioning?"),"Partition on columns that you would typically do a filter/groupBy",(0,o.kt)("p",null,"A partition should ideally contain anywhere between 256MB - 1GB of data. Too many small partitions (each containing kilobytes means you have lots of small files - that\u2019s bad!)"),(0,o.kt)("p",null,"For the small file reason above, you generally shouldn\u2019t partition on high cardinality columns")))}p.isMDXComponent=!0}}]);