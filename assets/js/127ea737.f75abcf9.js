"use strict";(self.webpackChunkdata_dynamos_github_io=self.webpackChunkdata_dynamos_github_io||[]).push([[4549],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>g});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(a),m=n,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||i;return a?r.createElement(g,o(o({ref:t},u),{},{components:a})):r.createElement(g,o({ref:t},u))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:n,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2022:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={sidebar_position:7},o="Data Formats",l={unversionedId:"The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats",id:"The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats",title:"Data Formats",description:"Wait...what\u2019s data serialization again?",source:"@site/docs/The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats.mdx",sourceDirName:"The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions",slug:"/The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats",permalink:"/data-sphere.github.io/docs/The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-formats.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Data Milky Way: A Brief History (Part 4) - Architecture Reference",permalink:"/data-sphere.github.io/docs/The-Art-of-Data-Engineering:Crafting-Robust-and-Scalable-Solutions/data-milky-way-brief-history-part-4-arch-ref"},next:{title:"Problem Statement \ud83d\udca1",permalink:"/data-sphere.github.io/docs/Real-time-Problem-Statement/Problem-statement"}},s={},p=[{value:"Wait...what\u2019s data serialization again?",id:"waitwhats-data-serialization-again",level:2},{value:"Data Formats",id:"data-formats-1",level:2},{value:"Additional Resources (optional)",id:"additional-resources-optional",level:3},{value:"Apache Parquet Recap",id:"apache-parquet-recap",level:2},{value:"Apache Avro Recap",id:"apache-avro-recap",level:2},{value:"Check Your Learning!",id:"check-your-learning",level:2},{value:"Bonus: Delta Lake",id:"bonus-delta-lake",level:2}],u={toc:p},c="wrapper";function d(e){let{components:t,...i}=e;return(0,n.kt)(c,(0,r.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"data-formats"},"Data Formats"),(0,n.kt)("h2",{id:"waitwhats-data-serialization-again"},"Wait...what\u2019s data serialization again?"),(0,n.kt)("p",null,"(extract from ",(0,n.kt)("a",{parentName:"p",href:"https://devopedia.org/data-serialization"},"Devopedia"),")"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Data serialization is the process of converting data objects present in complex data structures into a byte stream for storage, transfer and distribution purposes on physical devices.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Computer systems may ",(0,n.kt)("strong",{parentName:"p"},"vary")," in their hardware architecture, OS, addressing mechanisms. Internal representations of data also vary accordingly in every environment/language. Storing and exchanging data between such varying environments requires a ",(0,n.kt)("strong",{parentName:"p"},"platform-and-language-neutral data format")," that all systems understand.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Once the serialized data is transmitted from the source machine to the destination machine, the reverse process of creating objects from the byte sequence called ",(0,n.kt)("strong",{parentName:"p"},"deserialization")," is carried out. Reconstructed objects are clones of the original object."))),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"data-serialisation.png",src:a(6194).Z,width:"512",height:"229"}))),(0,n.kt)("h2",{id:"data-formats-1"},"Data Formats"),(0,n.kt)("p",null,"There are a variety of file formats common to Big Data use cases."),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("figure",{class:"video-container"},(0,n.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/auNAzC3AU18?t=153",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),"Big Data File Formats"),(0,n.kt)("p",null,"In this training, we\u2019ll cover Parquet quite extensively, but Avro is a ",(0,n.kt)("a",{parentName:"p",href:"https://www.confluent.io/blog/avro-kafka-data/"},"popular choice for streaming")," and persisting streaming data into data lakes (e.g. ",(0,n.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-capture-overview#exploring-the-captured-files-and-working-with-avro"},"Azure Event Hubs Capture"),")"),(0,n.kt)("h3",{id:"additional-resources-optional"},"Additional Resources (optional)"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://luminousmen.com/post/big-data-file-formats"},"Big Data File Formats")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.datanami.com/2018/05/16/big-data-file-formats-demystified/#:~:text=The%20biggest%20difference%20between%20ORC,in%20a%20row%2Dbased%20format.&text=While%20column%2Doriented%20stores%20like,might%20be%20the%20better%20choice."},"Comparing the formats")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.confessionsofadataguy.com/big-data-file-showdown-avro-vs-parquet-with-python/"},"Big Data File Showdown: Avro vs Parquet"))),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("figure",{class:"video-container"},(0,n.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/1j8SdS7s_NY",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})),(0,n.kt)("p",null,"A Deeper Dive into Parquet + Performance Optimisation")),(0,n.kt)("h2",{id:"apache-parquet-recap"},"Apache Parquet Recap"),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"parquet-columnar-storage.png",src:a(5776).Z,width:"512",height:"384"})),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"parquet-columnar-storage-for-the-people.png",src:a(6515).Z,width:"512",height:"288"})),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"parquet-access-only-data-you-need.png",src:a(8214).Z,width:"512",height:"288"}))),(0,n.kt)("h2",{id:"apache-avro-recap"},"Apache Avro Recap"),(0,n.kt)("p",null,"The only things you need to take away are that Avro files:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"are self-describing (schema accompanies data)"),(0,n.kt)("li",{parentName:"ul"},"are ",(0,n.kt)("strong",{parentName:"li"},"row-oriented")),(0,n.kt)("li",{parentName:"ul"},"support schema evolution"),(0,n.kt)("li",{parentName:"ul"},"are a popular serialization format for ",(0,n.kt)("strong",{parentName:"li"},"message streams"))),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("p",null,(0,n.kt)("img",{alt:"avro-recap.png",src:a(5643).Z,width:"512",height:"207"}))),(0,n.kt)("h2",{id:"check-your-learning"},"Check Your Learning!"),(0,n.kt)("p",null,"Unlike MapReduce vs Spark, there\u2019s no clear winner.\nThere\u2019s always still a time and place for each of these formats!"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null}),(0,n.kt)("th",{parentName:"tr",align:null},"CSV"),(0,n.kt)("th",{parentName:"tr",align:null},"JSON"),(0,n.kt)("th",{parentName:"tr",align:null},"Parquet"),(0,n.kt)("th",{parentName:"tr",align:null},"Avro"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Compressibility"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Human Readability"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Schema Evolution"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Row or Columnar Storage"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,n.kt)("td",{parentName:"tr",align:null},"\u2705")))),(0,n.kt)("h2",{id:"bonus-delta-lake"},"Bonus: Delta Lake"),(0,n.kt)("p",null,"We'll cover Delta Lake in detail in the \"Making Big Data Work\" section, but let's define it here so you can keep an ear out for it. Delta Lake is an ",(0,n.kt)("strong",{parentName:"p"},"open source")," storage layer. It is similar to Parquet (some people refer to it as Parquet Plus) but it provides ACID transactions, time travel, the ability to remove data across various versions (vaccuuming), and you can stream and batch at the same time."))}d.isMDXComponent=!0},5643:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/avro-recap-f7e91e9216ec0deaac82a10005d57d28.png"},6194:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/data-serialisation-6be2b2b59e9b5d74196604a702d791b8.png"},8214:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/parquet-access-only-data-you-need-9faae93d189f90df94db2961a37b5ff2.png"},6515:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/parquet-columnar-storage-for-the-people-7eb0d687dcb9a723df3e87cf7e85453c.png"},5776:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/parquet-columnar-storage-c1166682d766e4dd8de15d50b22a7e7f.png"}}]);